/* empty css             *//* empty css               *//* empty css                *//* empty css                  *//* empty css                   */import{r as p}from"./request-4a7e5a78.js";/* empty css               *//* empty css                  *//* empty css                     *//* empty css                *//* empty css                *//* empty css                    */import{r as S,o as f,c as g,g as c,d as o,w as n,j as B,L as D,s as U,X as $,Y as J,W as M,k as m,Z as P,E as d,$ as T,M as F,J as I}from"./index-b4448272.js";const O={class:"card",style:{"margin-bottom":"5px"}},j={class:"card",style:{"margin-bottom":"5px"}},q={style:{"margin-bottom":"10px"}},A={key:0,class:"card"},L={class:"dialog-footer"},ne={__name:"Category",setup(W){const e=S({pageNum:1,pageSize:10,total:0,formVisible:!1,form:{},tableData:[],name:null}),s=()=>{p.get("/category/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,name:e.name}}).then(a=>{var t,r;e.tableData=(t=a.data)==null?void 0:t.list,e.total=(r=a.data)==null?void 0:r.total})},_=()=>{e.form={},e.formVisible=!0},y=a=>{e.form=JSON.parse(JSON.stringify(a)),e.formVisible=!0},b=()=>{p.post("/category/add",e.form).then(a=>{a.code==="200"?(s(),d.success("操作成功"),e.formVisible=!1):d.error(a.msg)})},V=()=>{p.put("/category/update",e.form).then(a=>{a.code==="200"?(s(),d.success("操作成功"),e.formVisible=!1):d.error(a.msg)})},k=()=>{e.form.id?V():b()},C=a=>{P.confirm("删除后数据无法恢复，您确定删除吗?","删除确认",{type:"warning"}).then(t=>{p.delete("/category/delete/"+a).then(r=>{r.code==="200"?(s(),d.success("操作成功")):d.error(r.msg)})}).catch(t=>{})},x=()=>{e.name=null,s()};return s(),(a,t)=>{const r=D,i=U,u=T,h=$,E=J,v=F,N=I,w=M;return f(),g("div",null,[c("div",O,[o(r,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.name=l),style:{width:"300px","margin-right":"10px"},placeholder:"请输入名称查询"},null,8,["modelValue"]),o(i,{type:"primary",onClick:s},{default:n(()=>[m("查询")]),_:1}),o(i,{type:"info",style:{margin:"0 10px"},onClick:x},{default:n(()=>[m("重置")]),_:1})]),c("div",j,[c("div",q,[o(i,{type:"primary",onClick:_},{default:n(()=>[m("新增")]),_:1})]),o(h,{data:e.tableData,stripe:""},{default:n(()=>[o(u,{label:"名称",prop:"name"}),o(u,{label:"操作","header-align":"center",width:"160"},{default:n(l=>[o(i,{type:"primary",onClick:z=>y(l.row)},{default:n(()=>[m("编辑")]),_:2},1032,["onClick"]),o(i,{type:"danger",onClick:z=>C(l.row.id)},{default:n(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),e.total?(f(),g("div",A,[o(E,{onCurrentChange:s,background:"",layout:"prev, pager, next","page-size":e.pageSize,"onUpdate:pageSize":t[1]||(t[1]=l=>e.pageSize=l),"current-page":e.pageNum,"onUpdate:currentPage":t[2]||(t[2]=l=>e.pageNum=l),total:e.total},null,8,["page-size","current-page","total"])])):B("",!0),o(w,{title:"分类信息",width:"40%",modelValue:e.formVisible,"onUpdate:modelValue":t[5]||(t[5]=l=>e.formVisible=l),"close-on-click-modal":!1,"destroy-on-close":""},{footer:n(()=>[c("span",L,[o(i,{onClick:t[4]||(t[4]=l=>e.formVisible=!1)},{default:n(()=>[m("取 消")]),_:1}),o(i,{type:"primary",onClick:k},{default:n(()=>[m("保 存")]),_:1})])]),default:n(()=>[o(N,{model:e.form,"label-width":"100px",style:{"padding-right":"50px"}},{default:n(()=>[o(v,{label:"名称",prop:"name"},{default:n(()=>[o(r,{modelValue:e.form.name,"onUpdate:modelValue":t[3]||(t[3]=l=>e.form.name=l),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};export{ne as default};
